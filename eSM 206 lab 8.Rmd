---
title: "ESM 206 Lab 8"
author: "Logan Babcock"
date: "November 15, 2021"
output: html_document
---

```{r setup, include=FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

# attache packages
library(tidyverse)
library(corrplot)
library(stargazer)
library(broom)
library(modelsummary)
library(here)


# read in data

homes <- read_csv(here("data", "slo_homes.csv"))

```

# a little bit of cleaning:

Make a subset called homes_sub that only contains rows where the city is:
- slo,
- ag
- atascadero
-santa maria-orcutt

```{r eval = FALSE}
# use the eval = false if you dont want this code chunk to even run!
homes_sub <- homes %>% 
  filter(City %in% c("San Luis Obispo", "Arroyo Grande", "Atascadero", "Santa Maria-Orcutt"))

```

# a bit of exploring!!

Find summary stats for home price based on city and sale status

- Find and return in a nice summary table the mean and standard deviation of home price, grouped by city and sale status

```{r}

# make a summary table

summary_table <- homes_sub %>% 
  group_by(City, Status) %>% 
  summarize(mean_price = mean(Price),
            sd_price = sd(Price))

# exploratory graph
ggplot(data = homes_sub, aes(x = Price)) +
  geom_density(aes(color = City, fill = City), alpha = 0.3) +# color and fill are in aes because they are referring to a variable! if its referring to a constant, should be outside aes
  scale_x_continuous(limits = c(0, 3e6))
```

Explore the relationship between square footage and home price

```{r}
ggplot(data = homes_sub, x= SqFt, y = Price) +
  geom_point(aes(x = SqFt, y = Price, color = City, shape = Status))
```


